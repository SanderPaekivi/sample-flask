<!DOCTYPE html>
<html>
<head>
<title> Memory parameter estimation</title>
</head>

<style> 
    body {
      background-color: white;
      }
    p {font-family:courier}
    h1 {text-align:center;
      font-family:verdana;
      margin-left: 20px;
      margin-right:20px
    }
    html {min-height: 100%;}
    img {
        border: 1px solid black
        }
    * {text-align: justify;
      color: black;
      font-weight: normal;
      }
    .center {
      text-align: center;
      color:black;
      }
    .rcorners1 {
      border-radius: 25px;
      background: #73AD21;
      padding: 25px; 
      margin-left: 40px;
      margin-right: 40px
      }
    hr.line {
      width: 92%;
      height:10px;
      background-color:black
      }
    .p1 {
      font-family: "Times New Roman", Times, serif
      }
    hr.line2 {
      width: 90%;
      }
    .p1 {
      font-family: "Times New Roman", Times, serif
      }

    #col1 {
      display: inline-block;
      width:40%;
      }

    #col2 {
      display: inline-block;
      width:40%;
      }
    .button {
      font: bold 11px Arial;
      text-decoration: none;
      background-color: #EEEEEE;
      color: #333333;
      padding: 2px 6px 2px 6px;
      border-top: 1px solid #CCCCCC;
      border-right: 1px solid #333333;
      border-bottom: 1px solid #333333;
      border-left: 1px solid #CCCCCC;
      }
    .grid-container {
      margin-left: 40px;
      margin-right: 40px;
      display: grid;
      grid-template-columns: 1fr 1fr;
      padding: 10px;
      column-gap: 20px;
      row-gap: 20px;
      }
    .grid-item {
      border: 1px solid rgba(0, 0, 0, 0.8);
      border-radius: 25px;
      background: #73AD21;
      padding: 20px;
      min-height: 75%;
      font-size: 12px;
      text-align: center;
      }
    .grid-item3 {
      border: 1px solid rgba(0, 0, 0, 0.8);
      border-radius: 25px;
      background: #73AD21;
      min-height: 600px;
      padding: 20px;
      font-size: 12px;
      text-align: center;
      grid-row: 1 / 3;
      }
    .grid-item2 {
      border: 1px solid rgba(0, 0, 0, 0.8);
      border-radius: 25px;
      background: #73AD21;
      padding: 20px;
      min-height: 300px;
      font-size: 12px;
      text-align: center;
      }

    
</style>

<body>
<h1>
<div class="rcorners1" style="border: 1px solid rgba(0, 0, 0, 0.8);">
Simple demo for estimating the long-term memory parameter, alpha, of an ARFIMA time series via LSMT.
</div>
</h1>

<div class="rcorners1" style="background-color:rgba(0, 0, 0, 0.25)">

  <p> If you'd like to return to the home screen, click here: 
<a href="{{ url_for('home') }}" class="button" style="color:white; background-color:black;border-radius: 6px;">Back. </a>
  </p>
</div>


<div>
<hr class="line">
</div>

<div class="grid-container">
  <div class="grid-item3" style="background-color:#73AD21">
    
    <p> 
      This is a simple webapp to learn model deployment. 
      Your first input is the memory parameter of an ARFIMA model, alpha. 
      It takes values between  -0.5 and 0.5. 
      The second value is the length of ARFIMA to generate, which must be 
      an integer greater than 1. After entry, a recurrent neural network, 
      specifically an LSTM will attempt to estimate alpha from the generated time-series.
    </p>
    
    <form action="{{url_for('predict')}}" method="post">
        <p> Alpha : <input type='text' name='Alpha' placeholder='-0.5 to 0.5' required='required' />
        <p> Time-series length : <input type='text' name='tsl' placeholder='Integer N>1 steps to gen.' required='required' />
            <button style="color:white; background-color:black;border-radius: 6px;" type="submit" name="submit_button" value="plot one" class="btn btn-primary btn-block btn-large">LeSTiMate!</button>
    </form>
    
    <hr class="line2">
    
    <form action="{{url_for('predict')}}" method="post">
        <p> If you'd like to see a scatterplot of the LSTM predictions agains real alphas, 
          click here: 
          <button style="color:white; background-color:black;border-radius: 6px;" type="submit" name="submit_button" value="plot scatter" class="btn btn-secondary btn-block btn-large">Generate scatter!</button>
    </form>
    
    <form action="{{url_for('predict')}}" method="post">
      <p> If you'd like to see the model structure, click here: 
        <button style="color:white; background-color:black;border-radius: 6px;" type="submit" name="submit_button" value="give summary" class="btn btn-secondary btn-block btn-large">Summary.</button>
    </form>

  </div>
  <div class="grid-item2">  
    <div>
      <h3 style="text-align: center"> Plot box: </h3>
<!--      {% if figure_to_print %} -->
      <img src = "data:image/png;base64, {{ figure_to_print }}" style="width:100%;height:auto" >
<!--      {% endif %} -->
    </div>
  </div>
  <div class="grid-item">  
    <h3 style="text-align: center"> Info box: </h3>
    <p>
<!--    {% if prediction_text %}-->
    {% for para in prediction_text %}
      {{para}}<br> 
    {% endfor %}
    </p>
<!--    {% endif %} -->
  </div>

</div>




</body>
</html>
